## 제14장: 네트워크 인프라 및 관리용 IP 대역 설계 (Management IP)

대기업이나 대규모 IDC 환경에서 일반 사용자(사무용 PC)에게 **10.x.x.x** 대역을 할당한다면, 라우터, 스위치, 방화벽과 같은 **네트워크 장비들**은 보안과 관리 편의성을 위해 완전히 분리된 별도의 대역을 사용합니다.

---

### 1. 네트워크 장비용 IP 설계의 이원화

실무에서 네트워크 장비는 두 가지 종류의 IP를 가집니다.

#### ① 서비스 및 라우팅용 IP (Data Plane/Control Plane)

장비 간 트래픽을 전달하기 위한 IP입니다. 앞서 배운 **172.16.x.x** 대역이 주로 여기서 사용됩니다.

* **사용 대역:** `172.16.0.0/12` 범위 내 소규모 서브넷
* **용도:** 장비 간 P2P 연결(), 인터페이스 주소
* **특징:** 일반 사용자의 트래픽이 통과하는 통로 역할을 합니다.

#### ② 관리용 전용 IP (Management Plane / Out-of-Band)

엔지니어가 장비에 접속하여 설정을 변경(SSH, Telnet)하거나 모니터링(SNMP)하기 위한 IP입니다.

* **사용 대역:** `10.255.x.x` 또는 `10.0.x.x` 중 최상위/최하위 특정 대역
* **OOB (Out-of-Band)망:** 보안을 위해 아예 물리적인 관리 전용 스위치를 따로 두어 일반 사용자망과 격리하는 것이 표준입니다.

---

### 2. 실제 장비 IP 할당 사례 (Naming Convention)

일반적으로 장비 관리용 IP는 외우기 쉽고 체계적인 규칙을 따릅니다.

| 장비 구분 | 관리용 IP 대역 예시 | 실제 할당 예 (본사) |
| --- | --- | --- |
| **백본(Core) 스위치** | `10.255.255.x` | `10.255.255.1` (Core-A) |
| **분산(Dist) 스위치** | `10.255.254.x` | `10.255.254.11` (Dist-1) |
| **액세스(Access) 스위치** | `10.255.1xx.x` | `10.255.101.21` (1층 스위치 21번) |
| **방화벽/보안장비** | `10.255.0.x` | `10.255.0.1` (Main FW) |

---

### 3. 루프백 인터페이스 (Loopback Interface)의 활용

네트워크 장비 자체를 대표하는 IP는 특정 물리 포트에 할당하지 않고 **Loopback 0**이라는 가상 인터페이스에 할당합니다.

* **이유:** 물리 포트가 죽어도(Link Down), 다른 경로가 살아있는 한 장비 관리를 계속할 수 있기 때문입니다.
* **설정 예:** ```ios
interface Loopback0
ip address 10.255.255.1 255.255.255.255  # 장비 고유 ID 역할
```


```



---

### 4. 왜 굳이 분리하는가? (보안 및 가용성)

1. **접근 제어(ACL):** 일반 사용자 대역(`10.100.x.x`)에서 관리 대역(`10.255.x.x`)으로의 접근을 원천 차단하여 해킹 시도를 방어합니다.
2. **트래픽 간섭 방지:** 사무용 트래픽이 폭주하여 네트워크가 마비되더라도, 별도의 관리망(OOB)을 통해 장비에 접속하여 원인을 파악하고 조치할 수 있습니다.
3. **모니터링 효율:** NMS(Network Management System) 서버가 모든 장비의 관리 IP만 효율적으로 수집할 수 있습니다.

---

### 5. 핵심 단답형 요약

* **OOB (Out-of-Band):** 실제 데이터 흐름과 분리된 별도의 관리 전용 네트워크.
* **Loopback IP:** 장비의 물리적 상태와 상관없이 통신 가능한 장비 고유 주소.
* **Management VLAN:** 스위치 관리를 위해 할당된 전용 가상 네트워크.

---

**Next: 네트워크 모니터링 프로토콜 SNMP와 Syslog 운영**

Management IP, OOB 망, Loopback 0, 인프라 보안, 망 격리.

---
## 제13장: 대규모 기업망(Enterprise)의 IP 주소 설계 전략

대기업 환경에서는 단순히 IP 충돌을 피하는 것을 넘어, 전 세계 지사와 수만 대의 단말을 체계적으로 관리하기 위해 **10.x.x.x (Class A)** 대역을 표준으로 사용하는 경우가 압도적으로 많습니다.

---

### 1. 왜 대기업은 10.x.x.x 대역을 선호하는가?

사설 IP 대역 중 가장 거대한 **Class A** 대역을 사용하는 이유는 **'확장성'**과 **'체계성'** 때문입니다.

* **광대한 주소 공간:** `10.0.0.0`부터 `10.255.255.255`까지 약 1,600만 개의 IP를 사용할 수 있습니다.
* **유연한 서브네팅:** 8비트부터 32비트까지 자유롭게 쪼개서 쓸 수 있어, 국가-도시-건물-층-용도별로 의미 있는 숫자를 부여하기 좋습니다.
* **충돌 최소화:** 가정용(`192.168.x.x`)이나 중소기업 인프라(`172.16.x.x`)와 겹칠 확률이 거의 없어 VPN 연결 시 가장 안전합니다.

---

### 2. 실무적인 IP 주소 할당 규칙 (Addressing Scheme)

대기업 보안 팀은 보통 다음과 같이 IP 주소의 각 자리에 **의미(Semantics)**를 부여하여 설계합니다.

> **예시 구조: 10.[지사코드].[용도코드].[단말번호]**

| IP 구간 | 의미 | 예시 |
| --- | --- | --- |
| **10.** | 사내망 고정 | 모든 사내망은 10으로 시작 |
| **.100.** | 본사 (Seoul) | 지역 또는 빌딩 코드 |
| **.10.** | 사무용 PC (VLAN 10) | 10: PC, 20: WiFi, 50: VoIP, 200: 서버 |
| **.X** | 개별 단말 | 1~254번 할당 |

**[결과]** 만약 로그에 `10.100.10.55`가 찍힌다면, 엔지니어는 즉시 **"본사(100)의 사무용 PC(10) 대역의 55번 사용자"**임을 직관적으로 파악할 수 있습니다.

---

### 3. 부서별/단말별 세부 대역 할당 사례

실제 대기업 사무 환경에서는 보안을 위해 같은 층이라도 용도에 따라 네트워크를 분리(VLAN)합니다.

* **일반 사무용 PC:** `10.100.10.0/24` (가장 일반적인 유선 LAN 대역)
* **임직원 무선(WiFi):** `10.100.20.0/24` (모바일 기기 및 노트북)
* **IP 전화기(VoIP):** `10.100.50.0/24` (음성 데이터 우선순위 처리용)
* **프린터/복합기:** `10.100.60.0/24` (공용 장비 관리용)
* **CCTV/보안장비:** `10.200.10.0/24` (별도의 독립된 폐쇄망 운영)

---

### 4. 핵심 요약 및 시사점

1. **표준 대역:** 대기업 사무실 PC는 대부분 **10.x.x.x** 대역을 사용합니다.
2. **망 분리:** 보안과 트래픽 관리를 위해 부서별, 장비 종류별로 VLAN을 쪼개어 다른 IP 대역을 할당합니다.
3. **관리 효율:** IP 주소만 보고도 해당 단말의 물리적 위치와 용도를 알 수 있도록 하는 것이 설계의 핵심입니다.

---

### 5. 핵심 단답형 요약

* **Class A:** 대기업이 선호하는 10점 대 사설 IP 대역.
* **VLAN Separation:** 용도별 네트워크 분리.
* **Semantics:** IP 주소 각 자리에 의미를 부여하는 방식.

---

**Next: 내부망 PC의 외부 인터넷 통신 원리 (NAT/PAT)**

Class A IP, 10.x.x.x 설계, 사내망 보안, VLAN 할당 규칙, IPAM 표준화.
